{% extends 'management/base_admin.html' %}  

{% block content %}

<div class="broadcast-container">
  <h2><i class="fas fa-bullhorn me-2"></i>Send Broadcast</h2>
  <form method="post">
    {% csrf_token %}
    
    <div class="mb-3">
      <label for="subject" class="form-label">Subject</label>
      <input type="text" class="form-control" id="subject" name="subject" required>
    </div>

    <div class="mb-3">
      <label for="body" class="form-label">Message Body</label>
      <textarea class="form-control" id="body" name="body" rows="6" required></textarea>
    </div>

    <div class="mb-3">
      <label for="target_role" class="form-label">Target Audience</label>
      <select class="form-select" id="target_role" name="target_role">
        <option value="all">All Users</option>
        <option value="jobseeker">Jobseekers Only</option>
        <option value="employer">Employers Only</option>
        <option value="specific">Specific Users</option>
      </select>
    </div>

    <div class="mb-3" id="specific_container" style="display:none;">
      <label for="specific_recipients" class="form-label">Select Specific Recipients</label>
      <select class="form-select" id="specific_recipients" name="specific_recipients" multiple>
        {% for u in users %}
          <option value="{{ u.id }}">{{ u.username }} â€” {{ u.get_full_name }}</option>
        {% endfor %}
      </select>
      <div class="form-text">Start typing to search or scroll to browse</div>
    </div>

    <div class="d-grid">
      <button type="submit" class="btn btn-send">
        <i class="fas fa-paper-plane me-2"></i>Send Broadcast
      </button>
    </div>
  </form>
</div>

{% endblock %}